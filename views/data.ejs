<!DOCTYPE html>
<html>
<head>
	<title>DASHBOARD</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
	</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.dev.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="./css/main.css">
</head>
<body>
	<div class="col-md-4 col-md-offset-4">
        <h1>Entry Management Dashboard</h1> 
		<div>
			<p>Host Details :</p>
		</div>
		<div>
			<center>
				<table class="table table-hover text-center">
					<tr><td>Name </td><td><%= name %></td></tr>
					<tr><td>Email </td><td><%= email %></td></tr>
				</table>
			</center>
		</div>
		<div class="abc">
			<a href="/logout">Logout</a>
		</div>
	</div>

	
	<div class="container col-md-12">
		<div class="col-sm-4">

					<div>
						<p>Add Visitor Details
						</p>
					</div>

					<div class="form-group">
						<form method="post" action="/visitors" >
							<label class="lead mb-3">Host (autofill):</label>
							<input  type="host" name="host" value="<%= name %>" class='form-control'>
							<input type="hidden" name="email" value="<%= email %>">
							<h3>Name :</h3><input type="text" name="vname" placeholder="Name" required="" class="form-control">
							<h3>Email :</h3><input type="email" name="vemail" placeholder="E-mail" required="" class="form-control">
							<h3>Phone :</h3><input type="number" name="vnumber" placeholder="Phone Number" required="" class="form-control"><br/>
							<input type="submit" value="Add" class="btn btn-success">
						</form>
							
						
					</div>
		

		</div>
			
		<div class=" col-sm-8 ">
					<div>
							<p>Visitors Details 
							</p>
					</div>
						
								<table class='table table-bordered '>
										<thead>
											<th width="20px">Name</th>
											<th width="20px">Mobile</th>
											<th width="25px">Email</th>
											<th width="12px">Checkin</th>
											<th width="12px">Checkout</th>
										</thead>
										<tbody  id="tab">
											
											<%visitors.forEach(function(visitor){if(visitor){ %>

											<tr id="trow">
												<td width="20px" id="aname"><%= visitor.Name %></td>
												<td width="20px" id="amob"><%=visitor.phone%></td>
												<td width="25px" id="amail"><%=visitor.email%></td>
												<td width="12px">
													<form action='/visitor/<%=visitor.id%>/checkin' method='POST'>
													    <input type="hidden" name="email" value="<%= email %>">
														<button class='btn btn-success' type="submit">Checkin</button>
													</form>
												</td>
												<td width="12px">
													<form action='/visitor/<%=visitor.id%>/checkout' method='POST'>
														
														<button class='btn btn-primary' type="submit">Checkout</button>

													</form>
												</td>
											</tr>
											<% }}) %>
										</tbody>
									</table>
						
						
		</div>
			   
			
	</div>
<script type="text/javascript">
// var socket=io();
// function val(){

// Vnum=document.getElementsByName("vnumber").value;
// Vname=document.getElementsByName("vname").value;
// Vmail=document.getElementsByName("vemail").value;
// console.log(Vnum,Vname,Vmail);

// var row=document.getElementById("tab");
// x=row.insertRow(0);
// x.innerHTML='<td width="20px" id="aname"><%= visitors.name %></td><td width="20px" id="amob"></td><td width="25px" id="amail"></td><td width="12px"><form action="" method="POST"><button class="btn btn-success" type="submit">Checkin</button></form></td><td width="12px"><form action=" " method="POST"><button class="btn btn-primary" type="submit">Checkout</button></form></td>'





// };



// socket.emit('add',{Vname,Vmail,Vnum})
</script>
	
</body>
</html>